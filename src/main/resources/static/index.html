<html>
<html xmlns="http://www.w3.org/1999/xhtml">

<head>
	<meta http-equiv="Content-type" content="text/html; charset=UTF-8">
	<link rel="stylesheet" type="text/css" href="css/main.css"/>
	<link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.1.0/css/bootstrap.min.css" integrity="sha384-9gVQ4dYFwwWSjIDZnLEWnxCjeSWFphJiwGPXr1jddIhOegiu1FwO5qRGvFXOdJZ4" crossorigin="anonymous">
	<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
	<script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.0/umd/popper.min.js" integrity="sha384-cs/chFZiN24E4KMATLdqdvsezGxaGsi4hLGOzlXwp5UZB1LY//20VyM2taTB4QvJ" crossorigin="anonymous"></script>
	<script src="https://stackpath.bootstrapcdn.com/bootstrap/4.1.0/js/bootstrap.min.js" integrity="sha384-uefMccjFJAIv6A+rW+L4AHf99KvxDjWSu1z9VI8SKNVmz4sk7buKt/6v9KI65qnm" crossorigin="anonymous"></script>
	<script src="https://unpkg.com/vue@2.5.16/dist/vue.js"></script>
	<script src="https://unpkg.com/vue-router@3.0.1/dist/vue-router.js"></script>
	<script src="https://cdnjs.cloudflare.com/ajax/libs/axios/0.19.0/axios.js"></script>
	<script src="js/vue-barcode.js"></script>
	<script src="js/debounce.min.js"></script>
	<script src="js/vue-debounce.min.js"></script>
	
	<script>Vue.component(VueBarcode.name, VueBarcode);</script>
	<script src="js/http-vue.js"></script>
	<script src="js/main.js"></script>
	<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/octicons/4.4.0/font/octicons.css"/>
	
	
	
</head>

<body>
	<div id="noPrintSection" class="container-fluid">
		<div id="app">
			<div id="ordersTable" v-bind:class="'row ' + role ">
				<div class="col">
					<table class="table small table-fix-header">
						<thead class="thead-dark extra-small">
							<tr class="sticky-header">
								<th colspan="12">
									<div id="ordersFilters" class="row">
										<div class="col-4">
											<span class="label label-default">Status:</span>
											<div class="btn-group font-10" role="group">
												<button type="button" data-value="INITIAL" v-on:click="filtering('status', $event)" v-bind:class="'btn btn-filter ' + (filters.status == 'INITIAL' ? 'active' : '')">
													Novo
												</button>
												<button type="button" data-value="IN_PROCESS" v-on:click="filtering('status', $event)" v-bind:class="'btn btn-filter ' + (filters.status == 'IN_PROCESS' ? 'active' : '')">
													U izradi
												</button>
												<button type="button" data-value=IN_POST v-on:click="filtering('status', $event)" v-bind:class="'btn btn-filter ' + (filters.status == 'IN_POST' ? 'active' : '')">
													U pošti
												</button>
												<button type="button" data-value="FULFILLED" v-on:click="filtering('status', $event)" v-bind:class="'btn btn-filter ' + (filters.status == 'FULFILLED' ? 'active' : '')">
													Odrađeno
												</button>
												<button type="button" data-value="CANCELED" v-on:click="filtering('status', $event)" v-bind:class="'btn btn-filter ' + (filters.status == 'CANCELED' ? 'active' : '')">
													Otkazano
												</button>
												<button type="button" data-value="REQUESTED" v-on:click="filtering('shippingSearchStatus', $event)" v-bind:class="'btn btn-filter ' + (filters.shippingSearchStatus == 'REQUESTED' ? 'active' : '')">
													Za potražni
												</button>
												<button type="button" data-value="IN_PROCESS" v-on:click="filtering('shippingSearchStatus', $event)" v-bind:class="'btn btn-filter ' + (filters.shippingSearchStatus == 'IN_PROCESS' ? 'active' : '')">
													U potražnom
												</button>
											</div>
										</div>
										
										<div class="col-3">
											<span class="label label-default">Placeno:</span>
											<div class="btn-group" role="group">
												<button type="button" data-value="true" v-on:click="filtering('paid', $event)" v-bind:class="'btn btn-filter ' + (filters.paid == true ? 'active' : '')">
													Da
												</button>
												<button type="button" data-value="false" v-on:click="filtering('paid', $event)" v-bind:class="'btn btn-filter ' + (filters.paid == false ? 'active' : '')">
													Ne
												</button>
											</div>
											
											<span class="label label-default">Napomena:</span>
											<div class="btn-group" role="group">
												<button type="button" data-value="true" v-on:click="filtering('hasNote', $event)" v-bind:class="'btn btn-filter ' + (filters.hasNote == true ? 'active' : '')">
													Da
												</button>
												<button type="button" data-value="false" v-on:click="filtering('hasNote', $event)" v-bind:class="'btn btn-filter ' + (filters.hasNote == false ? 'active' : '')">
													Ne
												</button>
											</div>
											
										</div>
										
						
										
										<div class="col">
											<span class="label label-default">Osobno preuzimanje:</span>
											<div class="btn-group" role="group">
												<button type="button" data-value="true" v-on:click="filtering('personalTakeover', $event)" v-bind:class="'btn btn-filter ' + (filters.personalTakeover == true ? 'active' : '')">
													Da
												</button>
												<button type="button" data-value="false" v-on:click="filtering('personalTakeover', $event)" v-bind:class="'btn btn-filter ' + (filters.personalTakeover == false ? 'active' : '')">
													Ne
												</button>
											</div>
										</div>
										
										<div class="col">
											<span class="label label-default">Tip:</span>
											<div class="btn-group" role="group">
												<button type="button" data-value="PAYMENT" v-on:click="filtering('type', $event)" v-bind:class="'btn btn-filter ' + (filters.type == 'PAYMENT' ? 'active' : '')">
													Narudzba
												</button>
												<button type="button" data-value="GIVEAWAY" v-on:click="filtering('type', $event)" v-bind:class="'btn btn-filter ' + (filters.type == 'GIVEAWAY' ? 'active' : '')">
													Giveaway
												</button>
											</div>
										</div>
										
										<div class="col-1">
											<button type="button" class="btn btn-default" data-toggle="collapse" data-target="#inProcessDrawer">
												
												<img src="/icons/reply.svg" alt="" width="20" height="20" title="left">
											</button>
										</div>
										
										<div class="col-1">
											<button type="button" class="btn btn-default" data-toggle="modal" data-target="#createOrderModal">
												<img src="/icons/plus.svg" alt="" width="20" height="20" title="left">
											</button>
										</div>
										
									</div>
									
									<div class="row">
										<div class="col-2">
											<button type="button" class="btn btn-default" v-on:click="previousPage" v-bind:disabled="pagination.isFirst">
												
												<img src="/icons/arrow-left.svg" alt="" width="16" height="16" title="left">
											</button>
											{{ pagination.startElement }} - {{ pagination.endElement }} / {{ pagination.totalElements }}
											<button type="button" class="btn btn-default" v-on:click="nextPage" v-bind:disabled="pagination.isLast">
												
												<img src="/icons/arrow-right.svg" alt="" width="16" height="16" title="right">
											</button>
										</div>
										
										<div class="col-2">
											<div class="input-group mb-3">
												<input type="text" class="form-control" v-model="searchFilter.value">
												<div class="input-group-append">
													<button class="btn btn-primary" type="button" v-on:click="search">Traži</button>
												</div>
											</div>
										</div>
										
										<div class="col-1">
											<div class="dropdown">
												<button class="btn btn-secondary dropdown-toggle" type="button" id="dropdownMenuButton" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
													Sortiraj
												</button>
												<div class="dropdown-menu" aria-labelledby="dropdownMenuButton">
													<button class="dropdown-item" v-on:click="sort('id','ASC')">Rbr (najmanji prvo)</button>
													<button class="dropdown-item" v-on:click="sort('id','DESC')">Rbr (najveći prvo)</button>
													<button class="dropdown-item" v-on:click="sort('sendingDate','ASC')">Poslati (najranije prvo)</button>
													<button class="dropdown-item" v-on:click="sort('sendingDate','DESC')">Poslati (najkasnije prvo)</button>
												</div>
											</div>
										</div>
										
										<div class="col">
											<div class="dropdown">
												<button class="btn btn-primary dropdown-toggle" type="button" id="dropdownMenuButton" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
													Promijeni status
												</button>
												<div class="dropdown-menu" aria-labelledby="dropdownMenuButton">
													<button type="button" class="dropdown-item btn-initial" data-toggle="modal" data-target="#statusChangeModal" v-on:click="changeSelectedOrdersStatus('INITIAL', 'status')">Novo</button>
													<button type="button" class="dropdown-item btn-in-process" data-toggle="modal" data-target="#statusChangeModal" v-on:click="changeSelectedOrdersStatus('IN_PROCESS', 'status')">Za izradu</button>
													<button type="button" class="dropdown-item btn-in-post" data-toggle="modal" data-target="#statusChangeModal" v-on:click="changeSelectedOrdersStatus('IN_POST', 'status')">U posti</button>
													<button type="button" class="dropdown-item btn-request-search" data-toggle="modal" data-target="#statusChangeModal" v-on:click="changeSelectedOrdersStatus('REQUESTED', 'shippingSearchStatus')">Za potražni</button>
													<button type="button" class="dropdown-item btn-search-process" data-toggle="modal" data-target="#statusChangeModal" v-on:click="changeSelectedOrdersStatus('IN_PROCESS', 'shippingSearchStatus')">U potražnom</button>
												</div>
											</div>
										</div>
										
										<div class="col">
											<button type="button" class="btn btn-primary" v-on:click="selectAll">Select all</button>
											<button type="button" class="btn btn-primary" v-on:click="deselectAll">Deselect all</button>
											{{ Object.keys(selectedOrders).length }}
										</div>
										
										<div class="col">
											<button type="button" class="btn btn-primary" data-toggle="modal" data-target="#printModal">Ispis adresa</button>
											<button type="button" class="btn btn-primary" v-on:click="createEpkFromSelectedOrders">Prijamna knjiga</button>
											<button type="button" class="btn btn-primary" data-toggle="modal" data-target="#epkModal" v-on:click="clearEpk">EPK</button>
										</div>
									</div>
								</th>
							</tr>
							<tr>
								<th>rbr</th>
								<th>racun</th>
								<th>e-mail</th>
								<th>ponuda</th>
								<th>webshop narudzba</th>
								<th>model</th>
								<th>Napomena</th>
								<th v-if="role == 'ROLE_ADMIN'">uplata</th>
								<th>nacin placanja</th>
								<th>naruceno</th>
								<th>poslati</th>
								<th>akcije</th>
							</tr>
						</thead>
						<tbody class="">
							<tr v-for="order in orders"
									v-bind:class="orderStatusCssClass(order) + ' clickable-row' + (isSelected(order) ? ' highlight' : '') + ' ' + (hasNote(order) ? ' note-highlight' : '')"
									v-on:click="selectOrder(order)">
								<td class="order-id" data-toggle="tooltip" data-placement="top" v-bind:title="orderStatusTooltip(order)" >{{ order.id }}</td>
								<td class="invoice-number">{{ order.invoiceNumber }}</td>
								<td class="contact" data-toggle="tooltip" data-placement="top" v-bind:title="orderContactTooltip(order)" >
									<div class="row">{{ order.contact }}</div>
									<div class="row" v-if="order.giveawayPlatform != '' && order.type == 'GIVEAWAY'">{{order.giveawayPlatform}}</div>
									<div class="row">{{ order.shippingInfo.fullName }}</div>
								</td>
								<td class="tender-number">{{ order.tenderNumber }}</td>
								<td class="shopify-number">{{ order.shopifyOrderNumber }}</td>
								<td>
									<span v-for="item in order.items">
										<span v-if="item.name !== 'Preporučena poštarina'">
											<a v-bind:href="linkifyItem(item.name)" target="_blank" >{{ item.name }}</a>
											<span v-if="item.quantity > 1">(x{{ item.quantity }})</span>, 
										</span>
									</span>
								</td>
								<td>
									<button v-if="hasNote(order)" type="button" class="btn btn-secondary" data-toggle="tooltip" data-placement="top" v-bind:title="order.note">
									  N
									</button>
								</td>
								<td v-if="role == 'ROLE_ADMIN'">{{ order.totalPrice }} kn</td>
								<td>
									<img v-if="order.paymentType == 'CREDIT_CARD' " src="/icons/credit-card.svg" alt="" width="32" height="32" title="left"/>
									<img v-if="order.paymentType == 'BANK_TRANSACTION' " src="/icons/document-diff.svg" alt="" width="32" height="32" title="left"/>
								</td>
								<td>{{ formatDate(order.paymentDate) }}</td>
								<td class="">{{ formatDate(order.sendingDate) }}</td>
								<td>
									<div class="dropdown">
										<button class="btn btn-primary dropdown-toggle" type="button" id="dropdownMenuButton" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
											<img src="/icons/gear.svg" alt="" width="16" height="16" title="left">
										</button>
										<div class="dropdown-menu dropdown-primary" aria-labelledby="dropdownMenuButton">
											<button  type="button" class="btn btn-primary" v-on:click.stop="selectOrderForEditing(order, '#editOrderModal')">Editiraj</button>
											<button  v-if="!order.isPaid && role == 'ROLE_ADMIN'" type="button" class="btn btn-primary" v-on:click.stop="selectOrderForPayment(order, '#paymentModal')">Plaćeno</button>
											<button  type="button" class="btn btn-primary" v-on:click.stop="selectOrderForFulfillment(order, '#fulfillmentModal')">Odrađeno</button>
										</div>
									</div>
								</td>
							</tr>
							
						</tbody>
					</table>
				</div>
				<div id="shippingDrawer" class="col-2 collapse shipping-drawer">
					<button type="button" class="btn btn-primary" data-toggle="modal" data-target="#printModal">Ispis adresa</button>
					<button type="button" class="btn btn-primary" v-on:click="createPostalForm">Prijamna knjiga</button>
					<button type="button" class="btn btn-primary" v-on:click="ordersInPost">U pošti</button>
					<div v-for="shippingOrder in shippingOrders" class="row">
						<div class="col">
							{{ shippingOrder.shippingSnapshot }}
						</div>
						<div class="col-2">
							<button type="button" class="btn btn-primary" v-on:click="removeShippingOrder(shippingOrder)">-</button>
						</div>
					</div>
					
				</div>
				<div id="inProcessDrawer" class="col-2 collapse shipping-drawer">
					<div v-for="item in itemsOfSelectedOrders">
						<div v-if="item.name !== 'Preporučena poštarina'" class="row border">
							<div class="col-10">
								{{ item.name}}
							</div>
							<div class="col-2">
								x{{ item.quantity}}
							</div>
						</div>
					</div>
					
				</div>
				
				
				<div class="modal fade" id=paymentModal role="dialog">
					<div class="modal-dialog" role="document">
						<div class="modal-content">
							<div class="modal-header">
								<h5 class="modal-title" id="exampleModalLabel">Plaćanje</h5>
								<button type="button" class="close" data-dismiss="modal">
									<span>&times;</span>
								</button>
							</div>
							<div class="modal-body">
								<div  class="row">
									<div class="col">
										Označi ponudu: {{ paymentOrder.shopifyOrderNumber }} kao plaćenu?
									</div>
								</div>
								
								<div  class="row">
									<div class="col-3">
										R1:
									</div>
									<div class="col">
										<input class="form-check-input" type="checkbox" v-model="r1">
									</div>
									
								</div>
								
								<div  class="row">
									<div class="col-3">
										OIB:
									</div>
									<div class="col">
										<input class="form-check-input" type="text" v-model="oib">
									</div>
									
								</div>
							</div>
							<div class="modal-footer">
								<button  type="button" class="btn btn-primary" data-dismiss="modal" v-on:click="confirmPayment(paymentOrder)">Potvrdi</button>
								<button type="button" class="btn btn-secondary" data-dismiss="modal">Otkaži</button>
							</div>
						</div>
					</div>
				</div>
				
				<div class="modal fade" id=printModal role="dialog">
					<div class="modal-dialog modal-lg" role="document">
						<div class="modal-content">
							<div class="modal-header">
								<h5 class="modal-title" id="exampleModalLabel">Print</h5>
								<button type="button" class="close" data-dismiss="modal">
									<span>&times;</span>
								</button>
							</div>
							<div id="printContent" class="modal-body printable">
								<div  class="row">
									<div v-for="shippingOrder in selectedOrders" class="col-3 border" >
										<div class="">
											<barcode tag="img" v-model="shippingOrder.id"
												:options="{ displayValue: false, height:50 }"
												
											></barcode>
										</div>
										<div class="sender-address address-element">
											<div class="row">
												Šalje: Imagine Now d.o.o.
											</div><div class="row">
												Trg Petra Svačića 13
											</div><div class="row">
												10000 Zagreb
											</div>
										</div>
										<div class="recepient-address address-element" contenteditable="true">
											<div class="row">
												Prima:
											</div>
											<div class="row" v-if="shippingOrder.shippingInfo.companyName != '' && shippingOrder.shippingInfo.companyName != undefined">
												{{ shippingOrder.shippingInfo.companyName }} n/r
											</div>
											<div class="row">
												{{ shippingOrder.shippingInfo.fullName }}
											</div>
											<div class="row">
												{{ shippingOrder.shippingInfo.streetAndNumber }}
											</div>
											<div class="row">
												{{ shippingOrder.shippingInfo.other }}
											</div>
											<div class="row">
												{{ shippingOrder.shippingInfo.postalCode }} {{ shippingOrder.shippingInfo.city }}
											</div>
											<div class="row" v-if="shippingOrder.shippingInfo.country != 'Croatia' ">
												{{ shippingOrder.shippingInfo.country }}
											</div>
											<div class="row">
												{{ shippingOrder.shippingInfo.phoneNumber }}
											</div>
										</div>
									</div>
								</div>
							</div>
							<div class="modal-footer">
								<button type="button" class="btn btn-secondary" data-dismiss="modal">Zatvori</button>
								<button type="button" class="btn btn-primary" v-on:click="print" >Ispisi adrese</button>
							</div>
						</div>
					</div>
				</div>
				<div class="modal fade" id=errorModal role="dialog">
					<div class="modal-dialog" role="document">
						<div class="modal-content">
							<div class="modal-header">
								<h5 class="modal-title" id="exampleModalLabel">Greška</h5>
								<button type="button" class="close" data-dismiss="modal">
									<span>&times;</span>
								</button>
							</div>
							<div class="modal-body">
								<div  class="row">
									<div id="errorContent" class="col">
									</div>
								</div>
							</div>
							<div class="modal-footer">
								<button type="button" class="btn btn-secondary" data-dismiss="modal">Zatvori</button>
							</div>
						</div>
					</div>
				</div>
				
				<div class="modal fade" id=statusChangeModal role="dialog">
					<div class="modal-dialog modal-lg" role="document">
						<div class="modal-content">
							<div class="modal-header">
								<h5 class="modal-title" id="exampleModalLabel">
									Prebaci sljedeće narudžbe ({{ Object.keys(selectedOrders).length }}) u 
									<span v-bind:class="statusCssClass(statusChange.newStatus)">{{ statusLabel(statusChange.newStatus, statusChange.statusField) }}</span>
								</h5>
								<button type="button" class="close" data-dismiss="modal">
									<span>&times;</span>
								</button>
							</div>
							<div class="modal-body">
								<div v-for="order in selectedOrders" class="row">
									<div class="col-2">
										{{ order.id }}
									</div>
									<div class="col-4">
										{{ order.contact }}
									</div>
									<div class="col-4">
										{{ order.shippingInfo.fullName }}
									</div>
									<div class="col-2">
										{{ order.isPaid ? 'Plaćeno' : 'Neplaćeno' }}
									</div>
								</div>
							</div>
							<div class="modal-footer">
								<button type="button" class="btn btn-primary" data-dismiss="modal" v-on:click="processStatusChange(statusChange.newStatus, statusChange.statusField)">Potvrdi</button>
								<button type="button" class="btn btn-secondary" data-dismiss="modal">Otkaži</button>
							</div>
						</div>
					</div>
				</div>
				
							
				<div class="modal fade" id=editOrderModal role="dialog">
					<div class="modal-dialog modal-lg" role="document">
						<div class="modal-content">
							<div class="modal-header">
								<h5 class="modal-title" id="exampleModalLabel">Narudžba</h5>
								<button type="button" class="close" data-dismiss="modal">
									<span>&times;</span>
								</button>
							</div>
							<div class="modal-body">
								
								<div  class="row">
									<div class="col">
										Rbr: {{ editingOrder.id }}
									</div>
									<div class="col">
										Račun: {{ editingOrder.invoiceNumber }}
									</div>
									
									<div class="col">
										Ponuda: {{ editingOrder.tenderNumber }}
									</div>
								</div>
								
								
								<div  class="row">
									<div class="col">
										Napomena:
										<textarea v-model="editingOrder.note" rows="4" cols="50"></textarea>
									</div>
								</div>
								<div  class="row">
									<div class="col-3">
										Osobno preuzimanje:
									</div>
									<div class="col">
										<input class="form-check-input" type="checkbox" v-model="editingOrder.personalTakeover">
									</div>
								</div>
								
								<div class= "row">
									<div class="col-3">
										e-mail: 
									</div>
									<div class="col">
										<input class="form-check-input" type="text" v-model="editingOrder.contact" />
									</div>
								</div>
								
								<div v-if="editingOrder.type == 'GIVEAWAY'" class="row">
									<div class="col-3">
										Platforma
									</div>
									<div class="col">
										<input class="form-check-input" type="text" v-model="editingOrder.giveawayPlatform">
									</div>
								</div>
								
								<div  class="row">
									<div class="col-3">
										Ime i prezime:
									</div>
									<div class="col">
										<input class="form-check-input" type="text" v-model="editingOrder.shippingInfo.fullName">
									</div>
								</div>
								<div  class="row">
									<div class="col-3">
										Firma:
									</div>
									<div class="col">
										<input class="form-check-input" type="text" v-model="editingOrder.shippingInfo.companyName">
									</div>
								</div>
								<div  class="row">
									<div class="col-3">
										Ulica i br:
									</div>
									<div class="col">
										<input class="form-check-input" type="text" v-model="editingOrder.shippingInfo.streetAndNumber">
									</div>
								</div>
								<div  class="row">
									<div class="col-3">
										Grad:
									</div>
									<div class="col">
										<input class="form-check-input" type="text" v-model="editingOrder.shippingInfo.city">
									</div>
								</div>
								<div  class="row">
									<div class="col-3">
										Ostalo:
									</div>
									<div class="col">
										<input class="form-check-input" type="text" v-model="editingOrder.shippingInfo.other">
									</div>
								</div>
								<div  class="row">
									<div class="col-3">
										Poštanski broj:
									</div>
									<div class="col">
										<input class="form-check-input" type="text" v-model="editingOrder.shippingInfo.postalCode">
									</div>
								</div>
								<div  class="row">
									<div class="col-3">
										Zemlja:
									</div>
									<div class="col">
										<input class="form-check-input" type="text" v-model="editingOrder.shippingInfo.country">
									</div>
								</div>
								<div  class="row">
									<div class="col-3">
										Tel. broj:
									</div>
									<div class="col">
										<input class="form-check-input" type="text" v-model="editingOrder.shippingInfo.phoneNumber">
									</div>
								</div>
								
								<div  class="row">
									<div class="col">
										<table class="table">
											<thead>
												<tr>
													<th>Model</th>
													<th v-if="role == 'ROLE_ADMIN'">Cijena</th>
													<th>Kolicina</th>
												</tr>
											</thead>
											<tbody>
												<tr v-for="item in editingOrder.items">
													<td> {{ item.name }}</td>
													<td v-if="role == 'ROLE_ADMIN'"> {{ item.price }} </td>
													<td> {{ item.quantity }} </td>
												</tr>
											</tbody>
										</table>
									</div>
								</div>
								
								
								
							</div>
							<div class="modal-footer">
								<button type="button" class="btn btn-secondary" data-dismiss="modal" v-on:click="saveEditOrder">Spremi</button>
								<button type="button" class="btn btn-secondary" data-dismiss="modal">Otkaži</button>
							</div>
						</div>
					</div>
				</div>
				
				<div class="modal fade" id=epkModal role="dialog">
					<div class="modal-dialog" role="document">
						<div class="modal-content">
							<div class="modal-header">
								<h5 class="modal-title" id="exampleModalLabel">
									EPK Generator: <a href="https://epk.posta.hr/HP.EPK.Web.Production/">link</a> | Broj skeniranih: {{ epkOrdersSize }}
								</h5>		
								<button type="button" class="close" data-dismiss="modal">
									<span>&times;</span>
								</button>
							</div>
							<div class="modal-body">
								<div class ="row">
									<div class="col">
										Broj skeniranih: {{ epkOrdersSize }}
									</div>
								</div> 
							
								<div v-for="order in epk.orders" class="row">
									<div class="col-1"> {{ order.id }}</div>
									<div class="col-2">
										{{ order.shippingInfo.fullName }}
									</div>
									<div class="col-2">
										{{ order.shippingInfo.streetAndNumber }},
										{{ order.shippingInfo.other }}
									</div>
									<div class="col-2">
										{{ order.shippingInfo.postalCode }} {{ order.shippingInfo.city }}
									</div>
									<div class="col-2">
										<input v-bind:id="'epkOrderTracking_'+order.id" v-model="order.trackingNumber" v-on:change="refocusEpk">
									</div>						
								</div>
								<div class="row">
									<div class="col-2">
										<input id="epkInputOrderId" v-model="epk.inputId" v-on:change="findOrderById(epk.inputId)">
									</div>
									<div class="col">
										<button type="button" class="btn btn-secondary" v-on:click="saveAllEpkOrders">
											Spremi šifre
										</button>
									</div>
								</div>
							</div>
						</div>
					</div>
				</div>
				
				<div class="modal fade" id=createOrderModal role="dialog">
					<div class="modal-dialog" role="document">
						<div class="modal-content">
							<div class="modal-header">
								<h5 class="modal-title" id="exampleModalLabel">Nova narudžba</h5>
								<button type="button" class="close" data-dismiss="modal">
									<span>&times;</span>
								</button>
							</div>
							<div class="modal-body">
								<div class="card text-left">
									<div class="card-header">
										<ul class="nav nav-tabs card-header-tabs">
											<li class="nav-item">
												<button disabled v-on:click="createdOrder.type = 'PAYMENT'" v-bind:class="'nav-link' + (createdOrder.type == 'PAYMENT' ? ' active' : '')" >
													Plaćanje
												</button>
											</li>
											<li class="nav-item">
												<button v-on:click="createdOrder.type = 'GIVEAWAY'" v-bind:class="'nav-link' + (createdOrder.type == 'GIVEAWAY' ? ' active' : '')">
													Giveaweay
												</button>
											</li>
										</ul>
									</div>
									<div v-bind:class="'card-body ' + (createdOrder.type == 'PAYMENT' ? 'payment-order' : '') + (createdOrder.type == 'GIVEAWAY' ? 'giveaway-order' : '')">
										<div class="form-group row">
											<label class="col-2 col-form-label">Kontakt/Email</label>
											<div class="col-4">
												<input class="form-check-input" v-model="createdOrder.contact">
											</div>
											<label class="col-2 col-form-label giveaway-order">Platforma</label>
											<div class="col-4 giveaway-order">
												<input class="form-check-input" v-model="createdOrder.giveawayPlatform">
											</div>
										</div>
										<div class="row">
											<div class="card col-12">
												<div class="card-header">
													Proizvodi
												</div>
												<div class="card-body">
													<div v-for="(item, index) in createdOrder.items" class="row">
														<div class="form-inline">
															<div class="input-group mb-2 mr-sm-2">
																<div class="input-group-prepend">
																	<div class="input-group-text">Ime</div>
																</div>
																<input type="text" class="form-control" v-model="item.name">
															</div>
															<div class="input-group mb-2 mr-sm-2">
																<div class="input-group-prepend">
																	<div class="input-group-text">Količina</div>
																</div>
																<input type="number" class="form-control" v-model="item.quantity">
															</div>
															<div class="input-group mb-2 mr-sm-2 payment-order">
																<div class="input-group-prepend">
																	<div class="input-group-text">Cijena</div>
																</div>
																<input type="text" class="form-control" v-model="item.price">
															</div>
															<button type="button" class="btn btn-danger" v-on:click="deleteItemFromCreatedOrder(index)">
																<img src="/icons/dash.svg" alt="" width="16" height="16" >
															</button>
														</div>
													</div>
													<div class="row">
														<button type="button" class="btn btn-primary" v-on:click="addNewItemToCreatedOrder">
															<img src="/icons/plus.svg" alt="" width="16" height="16" >
														</button>
													</div>
												</div>
											</div>
										</div>
				
										
										<div class="row">
											<div class="card col-12">
												<div class="card-header">
													<div class="form-group row">
														<label class="col-2 col-form-label">Osobno preuzimanje</label>
														<div class="col-4">
															<input class="form-check-input" type="checkbox" v-model="createdOrder.personalTakeover">
														</div>
													</div>
												</div>
												<div class="card-body"  v-bind:style="(createdOrder.personalTakeover ? 'display:none' : '')">
													<div class="form-inline">
														<div class="input-group mb-2 mr-sm-2">
															<div class="input-group-prepend">
																<div class="input-group-text">Ime i prezime</div>
															</div>
															<input type="text" class="form-control" v-model="createdOrder.shippingInfo.fullName">
														</div>
														
														<div class="input-group mb-2 mr-sm-2">
															<div class="input-group-prepend">
																<div class="input-group-text">Tvrtka</div>
															</div>
															<input type="text" class="form-control" v-model="createdOrder.shippingInfo.company">
														</div>
													</div>
													
													<div class="form-inline">
														<div class="input-group mb-2 mr-sm-2">
															<div class="input-group-prepend">
																<div class="input-group-text">Ulica i br.</div>
															</div>
															<input type="text" class="form-control" v-model="createdOrder.shippingInfo.streetAndNumber">
														</div>
														<div class="input-group mb-2 mr-sm-2">
															<div class="input-group-prepend">
																<div class="input-group-text">Dodatno</div>
															</div>
															<input type="text" class="form-control" v-model="createdOrder.shippingInfo.other">
														</div>
													</div>
													<div class="form-inline">
														<div class="input-group mb-2 mr-sm-2">
															<div class="input-group-prepend">
																<div class="input-group-text">Grad</div>
															</div>
															<input type="text" class="form-control" v-model="createdOrder.shippingInfo.city">
														</div>
														
														<div class="input-group mb-2 mr-sm-2">
															<div class="input-group-prepend">
																<div class="input-group-text">Poštanski broj</div>
															</div>
															<input type="text" class="form-control" v-model="createdOrder.shippingInfo.postalCode">
														</div>
													</div>
													<div class="form-inline">
														<div class="input-group mb-2 mr-sm-2">
															<div class="input-group-prepend">
																<div class="input-group-text">Tel. broj</div>
															</div>
															<input type="text" class="form-control" v-model="createdOrder.shippingInfo.phoneNumber">
														</div>
													</div>
													<div class="form-inline">
														<div class="input-group mb-2 mr-sm-2">
															<div class="input-group-prepend">
																<div class="input-group-text">Zemlja</div>
															</div>
															<input type="text" class="form-control" v-model="createdOrder.shippingInfo.country">
														</div>
													</div>
												</div>
											</div>
										</div>
										
																	
									</div>
								</div>
							</div>
							<div class="modal-footer">
								<button type="button" class="btn btn-secondary" data-dismiss="modal" v-on:click="saveNewOrder">Spremi</button>
								<button type="button" class="btn btn-secondary" data-dismiss="modal">Otkaži</button>
							</div>
						</div>
					</div>
				</div>
				
				
				<div class="modal fade" id=fulfillmentModal role="dialog">
					<div class="modal-dialog" role="document">
						<div class="modal-content">
							<div class="modal-header">
								<h5 class="modal-title" id="exampleModalLabel">Označi narudžbu: {{ fulfillment.order.id }} kao odrađenu?</h5>
								<button type="button" class="close" data-dismiss="modal">
									<span>&times;</span>
								</button>
							</div>
							<div class="modal-body">
								<div  class="row">
									<div class="col">
										
									</div>
								</div>
								<div  class="row">
									<div class="col">
										Adresa:
									</div>
									<div class="col" v-if="fulfillment.order.shippingInfo != undefined">
										<div class="row"><div class="col">
											{{ fulfillment.order.shippingInfo.fullName }}
										</div></div>
										<div class="row"><div class="col">
											{{ fulfillment.order.shippingInfo.streetAndNumber }}
										</div></div>
										<div class="row"><div class="col">
											{{ fulfillment.order.shippingInfo.other }}
										</div></div>
										<div class="row"><div class="col">
											{{ fulfillment.order.shippingInfo.postalCode }} {{ fulfillment.order.shippingInfo.city }}
										</div></div>
										<div class="row" v-if="fulfillment.order.shippingInfo.country != 'Croatia' "><div class="col">
											{{ fulfillment.order.shippingInfo.country }}
										</div></div>
									</div>
								</div>
								
								
								
								<div  class="row">
									<div class="col">
										<div class="input-group mb-3">
											<div class="input-group-prepend">
												 <span class="input-group-text" id="inputGroup-sizing-default">Šifra za praćenje:</span>
											</div>
											<input type="text" class="form-control" v-model="fulfillment.params.trackingNumber">
										</div>
									</div>
								</div>
								<div  class="row">
									<div class="col-3">
										Pošalji notifikaciju:
									</div>
									<div class="col">
										<input class="form-check-input" type="checkbox" v-model="fulfillment.params.sendNotification">
									</div>
								</div>
							</div>
							<div class="modal-footer">
								<button  type="button" class="btn btn-primary" data-dismiss="modal" v-on:click="fulfillOrder">Potvrdi</button>
								<button type="button" class="btn btn-secondary" data-dismiss="modal">Otkaži</button>
							</div>
						</div>
					</div>
				</div>
				
				<div class="modal fade" id=loginModal role="dialog">
					<div class="modal-dialog" role="document">
						<div class="modal-content">
							<div class="modal-header">
								<h5 class="modal-title" id="exampleModalLabel">Prijava</h5>

							</div>
							<div class="modal-body">
								<div  class="row">
									<div class="form-inline">
										<div class="input-group mb-2 mr-sm-2">
											<div class="input-group-prepend">
												<div class="input-group-text">Korisničko ime</div>
											</div>
											<input type="text" class="form-control">
										</div>
									</div>
									<div class="form-inline">
										<div class="input-group mb-2 mr-sm-2">
											<div class="input-group-prepend">
												<div class="input-group-text">Zaporka</div>
											</div>
											<input type="text" class="form-control">
										</div>
									</div>
								</div>
							</div>
							<div class="modal-footer">
								<button type="button" class="btn btn-primary" data-dismiss="modal">Prijava</button>
							</div>
						</div>
					</div>
				</div>
				
				
				<div id= "overlay">
					<div class="w-100 d-flex justify-content-center align-items-center">
						<div class="spinner"></div>
					</div>
				</div>
				
			</div>
				
		</div>
		
	</div>
	<div id="printSection" class="container"></div>
	
<script src="js/components/orders-table-component.js"></script>
</body>
</html>